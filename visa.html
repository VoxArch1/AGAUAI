<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solidarity Visa — AGAUAI</title>

  <link rel="stylesheet" href="css/global.css" />

  <style>
    /* Page background + readable overlay (below content) */
    body.visa-page{
      position: relative;
      background: url("images/Palace.jpg") center/cover fixed no-repeat;
      color: #fff;
    }
    body.visa-page::before{
      content:"";
      position: fixed; inset: 0;
      background: rgba(0,0,0,.60);
      z-index: 0;  /* under content */
      pointer-events: none;
    }
    header, main, footer{ position: relative; z-index: 1; }

    /* Intro overlay */
    #intro-wrap{
      position: fixed; inset: 0;
      z-index: 9999;
      background: black;
      transition: opacity .8s ease;
    }
    #intro-wrap.is-hidden{ opacity:0; pointer-events:none; }

    #intro-video{
      width: 100%; height: 100%;
      display: block;
      object-fit: cover;
      background:black;
    }

    /* Skip button */
    #intro-skip{
      position: absolute; top: 16px; right: 16px;
      padding: .45rem .8rem;
      border-radius: 999px;
      font-weight: 700;
      border: 1px solid rgba(255,255,255,.25);
      background: rgba(15,17,21,.78);
      color: #fff; cursor: pointer;
      backdrop-filter: blur(6px);
      z-index: 2;
    }
    #intro-skip:hover{ background: rgba(15,17,21,.92); }

    /* Caption (shows as a whole line) */
    #intro-caption{
      position: absolute;
      bottom: 20%; left: 50%;
      transform: translateX(-50%) scale(.9);
      font-size: clamp(1.8rem, 4vw, 3.5rem);
      font-weight: 900;
      letter-spacing: 1px;
      color: #fff;
      text-align: center;
      opacity: 0;
      text-shadow: 0 4px 18px rgba(0,0,0,.75);
      transition: opacity .6s ease, transform .6s ease;
      z-index: 2;
      pointer-events: none;
    }
    #intro-caption.show{ opacity:1; transform: translateX(-50%) scale(1); }

    /* Simple layout polish */
    header, main, footer { max-width: 1100px; margin: 0 auto; padding: 0 1rem; }
    header nav ul { display:flex; flex-wrap:wrap; gap:.75rem; list-style:none; padding:1rem 0; margin:0; }
    header nav a { color:#fff; text-decoration:none; opacity:.9; }
    header nav a.active, header nav a:hover { opacity:1; text-decoration:underline; }
    h1 { margin:.25rem 0 .75rem }
    .center { text-align:center }
    .tagline { opacity:.9; margin:.25rem 0 1rem }

    /* Form */
    form { margin-top:.75rem }
    form label { display:block; margin:.5rem 0 .15rem; opacity:.9 }
    form input, form textarea, form button{
      width:100%; max-width:520px;
      background:#111; color:#fff; border:1px solid #444;
      padding:.6rem .7rem; border-radius:8px;
    }
    form textarea{ min-height:100px }
    form button{
      margin-top:.6rem; background:var(--accent,#fff); color:var(--ink,#111);
      font-weight:700; border:none; cursor:pointer; transition:transform .15s ease
    }
    form button:hover{ transform:translateY(-2px) }
    .actions { margin-top:.4rem }

  #replay-intro {
  position: fixed;
  bottom: 20px; right: 20px;
  padding: .6rem 1rem;
  border-radius: 999px;
  font-weight: 700;
  border: 1px solid rgba(255,255,255,.25);
  background: rgba(15,17,21,.78);
  color: #fff; cursor: pointer;
  backdrop-filter: blur(6px);
  z-index: 50;
  display: none; /* hidden until intro ends */
}
#replay-intro:hover {
  background: rgba(15,17,21,.92);
}
  
  </style>
</head>
<button id="replay-intro" aria-label="Replay Intro">▶ Replay Intro</button>
<body class="visa-page">

  <!-- SINGLE intro overlay (KEEP ONLY THIS ONE) -->
  <div id="intro-wrap" aria-label="Intro video">
    <video id="intro-video" autoplay muted playsinline preload="auto" poster="images/Palace.jpg">
      <source src="videos/Palacezelenksy.mp4" type="video/mp4">
    </video>
    <button id="intro-skip" aria-label="Skip intro">Skip</button>
    <div id="intro-caption">I NEED CITIZENS, NOT SPECTATORS!</div>
    <noscript><style>#intro-wrap{display:none}</style></noscript>
  </div>

  <!-- NAVIGATION -->
  <header>
    <nav aria-label="Primary">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="visa.html" class="active">Solidarity Visa</a></li>
        <li><a href="appeals.html">Appeals</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="what_is_AGAUAI.html">What is AGAUAI?</a></li>
        <li><a href="agauai2026.html">The Gathering 2026</a></li>
        <li><a href="roast.html">Roast Us</a></li>
        <li><a href="build-with-us.html">Join Us</a></li>
      </ul>
    </nav>
  </header>

  <!-- MAIN CONTENT -->
  <main>
    <section class="center">
      <h1>Global Solidarity Visa</h1>
      <p class="tagline"><strong>“We need citizens, not spectators.”</strong></p>
    </section>

    <section>
      <p>Show the Ukrainian people they have our support.</p>
      <p>By including your name below, you join a global community in support of Ukraine.</p>
      <p>This offer is in the hands of the Ukrainian people. What this visa may entitle is up to them.</p>
      <p>Our role is to gather the names and voices to let Ukraine know the world will play a part.</p>
    </section>

    <section>
      <h2>What is this Visa of Solidarity?</h2>
      <p>Ukraine has no “Golden Visa” program currently. <br/>We encourage consideration of one, but Ukraine will ultimately decide.</p>
      <ul>
        <li>Honorary Ukrainian citizenship</li>
        <li>Fast-track to immigration or residency</li>
        <li>The right to own property</li>
        <li>Entry to AGAUAI 2026 – The Gathering</li>
      </ul>
      <p>Have a suggestion? Include it when you add your name below.</p>
    </section>

    <section>
      <h2>Add Your Name Below to be included on the APPEAL to the Ukrainian Parliament</h2>

      <form action="https://formspree.io/f/xqalgbez" method="POST">
        <label for="name">Name</label>
        <input id="name" type="text" name="name" required>

        <label for="email">Email (not public)</label>
        <input id="email" type="email" name="email" required>

        <label for="country">Country</label>
        <input id="country" type="text" name="country" required>

        <label for="suggestion">Optional Suggestion (What should this visa entitle?)</label>
        <textarea id="suggestion" name="suggestion" rows="3" maxlength="200"></textarea>

        <input type="hidden" name="source" value="Visa Page">
        <input type="hidden" name="_subject" value="AGAUAI Solidarity Visa submission">

        <div class="actions">
          <button type="submit" class="btn primary">Submit Name</button>
        </div>
      </form>

      <p><em>One voice is a whisper; together we roar.</em></p>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="center">
    <p>© 2025 AGAUAI</p>
  </footer>

  <!-- Overlay control (defensive: also cleans up accidental duplicates) -->
  <script>
(function () {
  const wrap    = document.getElementById('intro-wrap');
  const vid     = document.getElementById('intro-video');
  const skipBtn = document.getElementById('intro-skip');
  const caption = document.getElementById('intro-caption');
  const replayBtn = document.getElementById('replay-intro');

  const CAPTION_AT_SEC = 2;    // seconds in to show caption
  const HARD_TIMEOUT   = 8000; // 8s max overlay

  let captionShown = false, hidden = false;

  function showCaption(){
    if (!captionShown) {
      captionShown = true;
      caption.classList.add('show');
    }
  }

  function hideOverlay(){
    if (hidden) return;
    hidden = true;
    wrap.classList.add('is-hidden');
    wrap.addEventListener('transitionend', () => {
      wrap.remove();
      replayBtn.style.display = 'block';  // show replay after fade
    }, { once:true });
  }

  // Show caption during playback
  vid.addEventListener('timeupdate', () => {
    if (!captionShown && vid.currentTime >= CAPTION_AT_SEC) showCaption();
  });

  // End/skip/error all hide overlay
  vid.addEventListener('ended', hideOverlay);
  vid.addEventListener('error', hideOverlay);
  skipBtn.addEventListener('click', hideOverlay);

  // Failsafe
  setTimeout(hideOverlay, HARD_TIMEOUT);

  // Autoplay fallback
  vid.play().catch(() => {
    wrap.addEventListener('click', () => vid.play(), { once:true });
  });

  // Replay logic: rebuild overlay and start again
  replayBtn.addEventListener('click', () => {
    replayBtn.style.display = 'none'; // hide while replaying

    const newWrap = document.createElement('div');
    newWrap.id = 'intro-wrap';
    newWrap.innerHTML = `
      <video id="intro-video" autoplay muted playsinline preload="auto" poster="images/Palace.jpg">
        <source src="videos/Palacezelenksy.mp4" type="video/mp4">
      </video>
      <button id="intro-skip" aria-label="Skip intro">Skip</button>
      <div id="intro-caption">I NEED CITIZENS, NOT SPECTATORS!</div>
    `;
    document.body.appendChild(newWrap);

    // re-wire script by simply reloading the page script
    location.reload();
  });
})();
</script>

</body>
</html>
