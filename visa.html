<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solidarity Visa — AGAUAI</title>

  <!-- Global styles -->
  <link rel="stylesheet" href="css/global.css" />

  <style>
    /* ---- Page background (palace) with dark overlay BELOW content ---- */
    body.visa-page{
      position: relative;
      background: url("images/Palace.jpg") center/cover fixed no-repeat; /* keep case EXACT */
      color: #fff;
    }
    body.visa-page::before{
      content:"";
      position: fixed; inset: 0;
      background: rgba(0,0,0,.68);
      z-index: 0;                    /* above background, below content */
      pointer-events: none;
    }
    header, main, footer{ position: relative; z-index: 1; }

    /* ---- Layout polish ---- */
    header, main, footer { max-width: 1100px; margin: 0 auto; padding: 0 1rem; }
    header nav ul { display:flex; flex-wrap:wrap; gap:.75rem; list-style:none; padding:1rem 0; margin:0; }
    header nav a { color:#fff; text-decoration:none; opacity:.9; }
    header nav a.active, header nav a:hover { opacity:1; text-decoration:underline; }
    h1 { margin:.25rem 0 .75rem }
    .center { text-align:center }
    .tagline { opacity:.9; margin:.25rem 0 1rem }

    /* Form */
    form { margin-top:.75rem }
    form label { display:block; margin:.5rem 0 .15rem; opacity:.9 }
    form input, form textarea, form button{
      width:100%; max-width:520px;
      background:#111; color:#fff; border:1px solid #444;
      padding:.6rem .7rem; border-radius:8px;
    }
    form textarea{ min-height:100px }
    form button{
      margin-top:.6rem; background:var(--accent,#fff); color:var(--ink,#111);
      font-weight:700; border:none; cursor:pointer; transition:transform .15s ease
    }
    form button:hover{ transform:translateY(-2px) }
    .actions { margin-top:.4rem }

    /* ---- Fullscreen intro video overlay (plays once, then fades) ---- */
    #intro-wrap{
      position: fixed; inset: 0;
      z-index: 9999;                 /* above everything */
      background: black;             /* hides the page until first frame draws */
      transition: opacity .8s ease;
    }
    #intro-wrap.is-hidden{ opacity:0; pointer-events:none; }

    #intro-video{
      width: 100%; height: 100%;
      display: block;
      object-fit: cover;             /* fills the screen without letterboxing */
      background: black;             /* in case first frame takes a moment */
    }

    /* Skip button */
    #intro-skip{
      position: absolute; top: 16px; right: 16px;
      padding: .45rem .8rem;
      border-radius: 999px;
      font-weight: 700;
      border: 1px solid rgba(255,255,255,.25);
      background: rgba(15,17,21,.78);
      color: #fff; cursor: pointer;
      backdrop-filter: blur(6px);
      z-index: 2;
    }
    #intro-skip:hover{ background: rgba(15,17,21,.92); }

    /* ---- Dramatic caption (letters fly in and lock) ---- */
    #intro-caption{
      position: absolute;
      bottom: 20%;
      left: 50%;
      transform: translateX(-50%);
      width: min(92vw, 1100px);
      text-align: center;
      font-size: clamp(1.8rem, 4.8vw, 4rem);
      font-weight: 900;
      letter-spacing: .5px;
      line-height: 1.1;
      color: #fff;
      text-shadow: 0 6px 24px rgba(0,0,0,.85);
      z-index: 2;
      pointer-events: none;
      opacity: 1; /* container remains visible; letters animate in */
    }
    /* Each character span */
    #intro-caption .ch{
      display: inline-block;
      opacity: 0;
      transform: translate(var(--dx,0), var(--dy,0)) scale(0.8) rotate(var(--rot,0deg));
      filter: blur(2px);
      will-change: transform, opacity, filter;
      /* Staggered animate; duration + easing chosen for “bold” punch */
      animation: flyIn 600ms cubic-bezier(.2,.8,.2,1) var(--delay,0ms) forwards;
    }
    /* A little extra kick for the bang */
    #intro-caption .bang{
      animation-duration: 720ms;
      letter-spacing: 1px;
    }

    @keyframes flyIn{
      0%   { opacity: 0; transform: translate(var(--dx), var(--dy)) scale(.8) rotate(var(--rot)); filter: blur(2px); }
      65%  { opacity: 1; transform: translate(calc(var(--dx) * .08), calc(var(--dy) * .08)) scale(1.08); filter: blur(.5px); }
      100% { opacity: 1; transform: translate(0,0) scale(1); filter: blur(0); }
    }

    /* Respect reduced motion users — show instantly */
    @media (prefers-reduced-motion: reduce){
      #intro-wrap{ transition: none; }
      #intro-caption .ch{ animation: none; opacity: 1; transform: none; filter: none; }
    }
  </style>
</head>

<body class="visa-page">

  <!-- Fullscreen intro: palace+Zelensky baked into the MP4 -->
  <div id="intro-wrap" aria-label="Intro video">
    <video id="intro-video" autoplay muted playsinline preload="auto" poster="images/Palace.jpg">
      <!-- Use your exact filename. Both are included as a safety net. Remove the extra once confirmed. -->
      <source src="videos/Palacezelenksy.mp4" type="video/mp4">
      <source src="videos/palace-zelensky.mp4" type="video/mp4">
      <!-- If both fail, the 'error' handler will hide this overlay -->
    </video>

    <!-- Skip and caption overlay -->
    <button id="intro-skip" aria-label="Skip intro">Skip</button>
    <div id="intro-caption" aria-hidden="true"></div>

    <noscript><style>#intro-wrap{display:none}</style></noscript>
  </div>

  <!-- NAVIGATION -->
  <header>
    <nav aria-label="Primary">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="visa.html" class="active">Solidarity Visa</a></li>
        <li><a href="appeals.html">Appeals</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="what_is_AGAUAI.html">What is AGAUAI?</a></li>
        <li><a href="agauai2026.html">The Gathering 2026</a></li>
        <li><a href="roast.html">Roast Us</a></li>
        <li><a href="build-with-us.html">Join Us</a></li>
      </ul>
    </nav>
  </header>

  <!-- MAIN CONTENT -->
  <main>
    <section class="center">
      <h1>Global Solidarity Visa</h1>
      <p class="tagline"><strong>“We need citizens, not spectators.”</strong></p>
    </section>

    <section>
      <p>Show the Ukrainian people they have our support.</p>
      <p>By including your name below, you join a global community in support of Ukraine.</p>
      <p>This offer is in the hands of the Ukrainian people. What this visa may entitle is up to them.</p>
      <p>Our role is to gather the names and voices to let Ukraine know the world will play a part.</p>
    </section>

    <section>
      <h2>What is this Visa of Solidarity?</h2>
      <p>Ukraine has no “Golden Visa” program currently. <br/>We encourage consideration of one, but Ukraine will ultimately decide.</p>
      <ul>
        <li>Honorary Ukrainian citizenship</li>
        <li>Fast-track to immigration or residency</li>
        <li>The right to own property</li>
        <li>Entry to AGAUAI 2026 – The Gathering</li>
      </ul>
      <p>Have a suggestion? Include it when you add your name below.</p>
    </section>

    <section>
      <h2>Add Your Name Below to be included on the APPEAL to the Ukrainian Parliament</h2>

      <!-- Formspree: email field must be named 'email' -->
      <form action="https://formspree.io/f/xqalgbez" method="POST">
        <label for="name">Name</label>
        <input id="name" type="text" name="name" required>

        <label for="email">Email (not public)</label>
        <input id="email" type="email" name="email" required>

        <label for="country">Country</label>
        <input id="country" type="text" name="country" required>

        <label for="suggestion">Optional Suggestion (What should this visa entitle?)</label>
        <textarea id="suggestion" name="suggestion" rows="3" maxlength="200"></textarea>

        <!-- helpful metadata -->
        <input type="hidden" name="source" value="Visa Page">
        <input type="hidden" name="_subject" value="AGAUAI Solidarity Visa submission">

        <div class="actions">
          <button type="submit" class="btn primary">Submit Name</button>
        </div>
      </form>

      <p><em>One voice is a whisper; together we roar.</em></p>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="center">
    <p>© 2025 AGAUAI</p>
  </footer>

  <!-- Intro overlay logic + per-letter fly-in -->
  <script>
    (function () {
      const wrap    = document.getElementById('intro-wrap');
      const vid     = document.getElementById('intro-video');
      const skipBtn = document.getElementById('intro-skip');
      const caption = document.getElementById('intro-caption');

      // --- CONFIG ---
      const CAPTION_TEXT   = 'I NEED CITIZENS, NOT SPECTATORS!';
      const CAPTION_AT_SEC = 1.8;     // when to start flying letters in
      const STAGGER_MS     = 48;      // delay between letters
      const HARD_TIMEOUT   = 12000;   // guaranteed escape (ms)

      let shown = false, hidden = false;

      // Build per-letter spans with random offsets/rotation + staggered delay
      function buildCaption(text){
        caption.innerHTML = '';                 // clear any existing text
        for (let i = 0; i < text.length; i++){
          const ch = text[i];
          const span = document.createElement('span');
          span.className = 'ch' + (ch === '!' ? ' bang' : '');
          span.textContent = ch;

          const dx  = (Math.random()*160 - 80).toFixed(0) + 'px';
          const dy  = (Math.random()*120 - 60).toFixed(0) + 'px';
          const rot = (Math.random()*22  - 11).toFixed(1) + 'deg';
          const delay = (200 + i * STAGGER_MS) + 'ms';

          span.style.setProperty('--dx', dx);
          span.style.setProperty('--dy', dy);
          span.style.setProperty('--rot', rot);
          span.style.setProperty('--delay', delay);

          caption.appendChild(span);
        }
      }

      function showCaption(){
        if (shown) return;
        shown = true;
        buildCaption(CAPTION_TEXT);             // animation runs via CSS
      }

      function hide(){
        if (hidden) return;
        hidden = true;
        wrap.classList.add('is-hidden');
        wrap.addEventListener('transitionend', () => wrap.remove(), { once:true });
      }

      // Trigger the caption at the right time
      vid.addEventListener('timeupdate', () => {
        if (!shown && vid.currentTime >= CAPTION_AT_SEC) showCaption();
      });

      // End / error / timeout / skip all hide the overlay
      vid.addEventListener('ended', hide);
      vid.addEventListener('error', hide);
      skipBtn.addEventListener('click', hide);
      setTimeout(hide, HARD_TIMEOUT);

      // Try autoplay; if blocked, allow a click to start
      vid.play().catch(() => {
        // if autoplay blocked, one tap anywhere starts it
        wrap.addEventListener('click', () => vid.play(), { once:true });
      });
    })();
  </script>
</body>
</html>



