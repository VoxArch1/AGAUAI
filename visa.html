<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solidarity Visa ‚Äî AGAUAI</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="visa-page">

  <!-- NAVIGATION -->
  <header>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="visa.html" class="active">Solidarity Visa</a></li>
        <li><a href="appeals.html">Appeals</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="sponsors.html">What is AGAUAI?</a></li>
        <li><a href="agauai2026.html">The Gathering 2026</a></li>
        <li><a href="ai.html">Sentience Showdown</a></li>
        <li><a href="roast.html">Roast Us</a></li>
        <li><a href="build-with-us.html">Join Us</a></li>
      </ul>
    </nav>
  </header>

  <!-- Zelensky Walk-In (initial block) -->
  <div class="zel-stick" role="region" aria-label="Message from President Zelenskyy">
    <div class="zel-crop">
      <video id="zelenskyVideo" autoplay muted playsinline preload="auto" poster="images/zelensky-poster.jpg">
        <source src="/videos/ai/zelenskyalpha.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <button id="unmuteBtn" aria-pressed="false" aria-label="Hear Message">üîä Hear Message</button>
    </div>
  </div>

  <!-- Template used to respawn the overlay on Replay -->
  <template id="zelTemplate">
    <div class="zel-stick" role="region" aria-label="Message from President Zelenskyy">
      <div class="zel-crop">
        <video id="zelenskyVideo" autoplay muted playsinline preload="auto" poster="images/zelensky-poster.jpg">
          <source src="/videos/ai/zelenskyalpha.mp4" type="video/mp4">
        </video>
        <button id="unmuteBtn" aria-pressed="false" aria-label="Hear Message">üîä Hear Message</button>
      </div>
    </div>
  </template>

  <!-- Replay button (appears after fade/removal) -->
  <button id="replayZel" class="zel-replay" hidden>‚ñ∂Ô∏è Replay message</button>

  <!-- Visa-specific styles for the overlay -->
  <style>
    /* anchor the block bottom-center */
    .zel-stick{
      position: fixed;
      left: 50%;
      bottom: 1.2rem;
      transform: translateX(-50%);
      z-index: 1000;
      pointer-events: none; /* clicks pass through by default */
      opacity: 1;
      transition: opacity .7s ease;
    }
    .zel-stick.is-out{
      opacity: 0;
      pointer-events: none;
    }

    /* cropping frame; re-enable interaction inside */
    .zel-crop{
      width: clamp(240px, 32vw, 560px);
      height: clamp(360px, 62vh, 820px);
      overflow: hidden;
      border-radius: 12px;
      background: transparent;
      pointer-events: auto;
    }

    /* fill frame, keep feet near bottom, feather edges */
    .zel-crop video{
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: 50% 100%;
      display: block;
      background: transparent;

      /* feather the edges so the rectangle blends a bit */
      -webkit-mask-image: radial-gradient(ellipse at center, rgba(0,0,0,1) 72%, rgba(0,0,0,0) 100%);
              mask-image: radial-gradient(ellipse at center, rgba(0,0,0,1) 72%, rgba(0,0,0,0) 100%);
    }

    /* mute/unmute */
    #unmuteBtn{
      position: absolute;
      right: .6rem;
      bottom: .6rem;
      background: rgba(15,17,21,.78);
      color: #fff;
      padding: .45rem .7rem;
      font-size: .9rem;
      border: 1px solid rgba(255,255,255,.18);
      border-radius: 8px;
      cursor: pointer;
      backdrop-filter: blur(6px);
    }
    #unmuteBtn:hover{ background: rgba(15,17,21,.9); }

    /* replay button */
    .zel-replay{
      position: fixed;
      left: 50%;
      bottom: 1.2rem;
      transform: translateX(-50%);
      z-index: 900;
      background: rgba(15,17,21,.85);
      color: #fff;
      border: 1px solid rgba(255,255,255,.15);
      border-radius: 10px;
      padding: .55rem .9rem;
      cursor: pointer;
      backdrop-filter: blur(6px);
    }
    .zel-replay:hover{ background: rgba(15,17,21,.95); }

    /* mobile */
    @media (max-width: 560px){
      .zel-stick{ bottom: .6rem; }
      .zel-crop{ width: 70vw; height: 58vh; }
      .zel-replay{ bottom: .6rem; }
    }

    /* reduce motion: remove fades/animations */
    @media (prefers-reduced-motion: reduce){
      .zel-stick{ transition: none !important; }
    }
  </style>

  <!-- MAIN CONTENT -->
  <main>
    <section>
      <h1>Global Solidarity Visa</h1>
      <p class="tagline"><strong>‚ÄúWe need citizens, not spectators.‚Äù</strong></p>

      <p>Show the Ukrainian people they have our support.</p>
      <p>By including your name below, you join a global community in support of Ukraine.</p>
      <p>This offer is in the hands of the Ukrainian people. What this visa may entitle is up to them.</p>
      <p>Our role is to gather the names and voices to let Ukraine know the world will play a part.</p>
    </section>

    <section>
      <h2>What is this Visa of Solidarity?</h2>
      <p>Ukraine has no ‚ÄúGolden Visa‚Äù program currently. <br> We encourage consideration of one, but Ukraine will ultimately decide.</p>

      <ul>
        <li>Honorary Ukrainian citizenship</li>
        <li>Fast-track to immigration or residency</li>
        <li>The right to own property</li>
        <li>Entry to AGAUAI 2026 ‚Äì The Gathering</li>
      </ul>

      <p>Have a suggestion? Include it when you add your name below.</p>
    </section>

    <section>
      <h2>Add Your Name Below to be included on the APPEAL to the Ukrainian Parliament</h2>

      <form action="https://formspree.io/f/xqalgbez" method="POST">
        <label for="name">Name:</label><br />
        <input id="name" type="text" name="name" required><br /><br />

        <label for="email">Email (not public):</label><br />
        <input id="email" type="email" name="_replyto" required><br /><br />

        <label for="country">Country:</label><br />
        <input id="country" type="text" name="country" required><br /><br />

        <label for="suggestion">Optional Suggestion (What should this visa entitle?):</label><br />
        <textarea id="suggestion" name="suggestion" rows="3" maxlength="200"></textarea><br /><br />
        <input type="hidden" name="source" value="Visa Page">

        <button type="submit">Submit Name</button>
      </form>

      <p><em>One voice is a whisper; together we roar.</em></p>
    </section>
  </main>

  <script>
    // --- utilities -----------------------------------------------------------
    function wireZel(root, onDismiss){
      const vid = root.querySelector('#zelenskyVideo');
      const btn = root.querySelector('#unmuteBtn');

      // Kickstart (autoplay fallback on first interaction)
      const kickstart = () => { vid.play().catch(()=>{}); window.removeEventListener('pointerdown', kickstart); };
      window.addEventListener('pointerdown', kickstart, { once:true });

      // Mute/unmute
      btn.addEventListener('click', () => {
        const willUnmute = vid.muted;
        vid.muted = !willUnmute;
        btn.textContent = willUnmute ? 'üîá Mute' : 'üîä Hear Message';
        btn.setAttribute('aria-pressed', String(willUnmute));
        if (willUnmute) vid.play().catch(()=>{});
      });

      // Hold briefly on last frame, then fade/remove
      vid.addEventListener('ended', () => {
        setTimeout(() => {
          root.classList.add('is-out');
          setTimeout(() => {
            root.remove();
            if (onDismiss) onDismiss();
          }, 800);
        }, 150);
      });

      // Optional: auto-dismiss on scroll
      let dismissed = false;
      window.addEventListener('scroll', () => {
        if (!dismissed && window.scrollY > 200) {
          dismissed = true;
          root.classList.add('is-out');
          setTimeout(() => {
            root.remove();
            if (onDismiss) onDismiss();
          }, 800);
        }
      }, { passive:true });
    }

    function spawnZelFromTemplate(onDismiss){
      const tpl = document.getElementById('zelTemplate');
      if (!tpl) return;
      const node = tpl.content.firstElementChild.cloneNode(true);
      document.body.appendChild(node);
      wireZel(node, onDismiss);
    }

    // --- init current block & replay wiring ---------------------------------
    (function(){
      const current = document.querySelector('.zel-stick');
      const replay  = document.getElementById('replayZel');

      const showReplay = () => { replay.hidden = false; };
      const hideReplay = () => { replay.hidden = true; };

      if (current) wireZel(current, showReplay);

      replay.addEventListener('click', () => {
        hideReplay();
        spawnZelFromTemplate(showReplay);
      });
    })();
  </script>

  <!-- FOOTER -->
  <footer>
    <p>¬© 2025 AGAUAI</p>
  </footer>

</body>
</html>

